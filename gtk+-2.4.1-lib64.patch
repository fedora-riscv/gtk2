--- gtk+-2.4.1/gdk-pixbuf/Makefile.am.lib64	2004-03-15 08:07:04.000000000 -0500
+++ gtk+-2.4.1/gdk-pixbuf/Makefile.am	2004-07-08 13:39:19.000000000 -0400
@@ -257,6 +257,7 @@
 	-I$(top_srcdir)/gdk-pixbuf 		\
 	-I$(top_builddir)/gdk-pixbuf 		\
 	-DGTK_SYSCONFDIR=\"$(sysconfdir)\"	\
+	-DHOST=\"$(host_triplet)\"		\
 	-DGTK_VERSION=\"$(GTK_VERSION)\"	\
 	-DGTK_BINARY_VERSION=\"$(GTK_BINARY_VERSION)\"	\
 	-DG_DISABLE_DEPRECATED			\
--- gtk+-2.4.1/gdk-pixbuf/gdk-pixbuf-io.c.lib64	2004-04-13 10:57:03.000000000 -0400
+++ gtk+-2.4.1/gdk-pixbuf/gdk-pixbuf-io.c	2004-07-08 13:39:19.000000000 -0400
@@ -229,7 +229,15 @@
   gchar *result = g_strdup (g_getenv ("GDK_PIXBUF_MODULE_FILE"));
 
   if (!result)
-	  result = g_build_filename (GTK_SYSCONFDIR, "gtk-2.0", "gdk-pixbuf.loaders", NULL);
+  {
+	  result = g_build_filename (GTK_SYSCONFDIR, "gtk-2.0", HOST, "gdk-pixbuf.loaders", NULL);
+	  if (!g_file_test (result, G_FILE_TEST_EXISTS))
+	  {
+		  g_free (result);
+
+		  result = g_build_filename (GTK_SYSCONFDIR, "gtk-2.0", "gdk-pixbuf.loaders", NULL);
+	  }
+  }
 
   return result;
 }
--- gtk+-2.4.1/gdk-pixbuf/Makefile.in.lib64	2004-04-30 12:06:39.000000000 -0400
+++ gtk+-2.4.1/gdk-pixbuf/Makefile.in	2004-07-08 13:39:37.000000000 -0400
@@ -1,8 +1,8 @@
-# Makefile.in generated by automake 1.7.9 from Makefile.am.
+# Makefile.in generated by automake 1.8.2 from Makefile.am.
 # @configure_input@
 
-# Copyright 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003
-# Free Software Foundation, Inc.
+# Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+# 2003, 2004  Free Software Foundation, Inc.
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
@@ -14,6 +14,11 @@
 
 @SET_MAKE@
 
+
+
+
+SOURCES = $(libgdk_pixbuf_2_0_la_SOURCES) $(libpixbufloader_ani_la_SOURCES) $(libpixbufloader_bmp_la_SOURCES) $(libpixbufloader_gif_la_SOURCES) $(libpixbufloader_ico_la_SOURCES) $(libpixbufloader_jpeg_la_SOURCES) $(libpixbufloader_pcx_la_SOURCES) $(libpixbufloader_png_la_SOURCES) $(libpixbufloader_pnm_la_SOURCES) $(libpixbufloader_ras_la_SOURCES) $(libpixbufloader_static_ani_la_SOURCES) $(libpixbufloader_static_bmp_la_SOURCES) $(libpixbufloader_static_gif_la_SOURCES) $(libpixbufloader_static_ico_la_SOURCES) $(libpixbufloader_static_jpeg_la_SOURCES) $(libpixbufloader_static_pcx_la_SOURCES) $(libpixbufloader_static_png_la_SOURCES) $(libpixbufloader_static_pnm_la_SOURCES) $(libpixbufloader_static_ras_la_SOURCES) $(libpixbufloader_static_tga_la_SOURCES) $(libpixbufloader_static_tiff_la_SOURCES) $(libpixbufloader_static_wbmp_la_SOURCES) $(libpixbufloader_static_xbm_la_SOURCES) $(libpixbufloader_static_xpm_la_SOURCES) $(libpixbufloader_tga_la_SOURCES) $(libpixbufloader_tiff_la_SOURCES) $(libpixbufloader_wbmp_la_SOURCES) $(libpixbufloader_xbm_la_SOURCES) $(libpixbufloader_xpm_la_SOURCES) $(gdk_pixbuf_csource_SOURCES) $(gdk_pixbuf_query_loaders_SOURCES) test-gdk-pixbuf.c
+
 srcdir = @srcdir@
 top_srcdir = @top_srcdir@
 VPATH = @srcdir@
@@ -21,7 +26,6 @@
 pkglibdir = $(libdir)/@PACKAGE@
 pkgincludedir = $(includedir)/@PACKAGE@
 top_builddir = ..
-
 am__cd = CDPATH="$${ZSH_VERSION+.}$(PATH_SEPARATOR)" && cd
 INSTALL = @INSTALL@
 install_sh_DATA = $(install_sh) -c -m 644
@@ -36,6 +40,261 @@
 PRE_UNINSTALL = :
 POST_UNINSTALL = :
 host_triplet = @host@
+noinst_PROGRAMS = test-gdk-pixbuf$(EXEEXT)
+bin_PROGRAMS = gdk-pixbuf-csource$(EXEEXT) \
+	gdk-pixbuf-query-loaders$(EXEEXT)
+subdir = gdk-pixbuf
+DIST_COMMON = $(libgdk_pixbufinclude_HEADERS) $(noinst_HEADERS) \
+	$(srcdir)/Makefile.am $(srcdir)/Makefile.in \
+	$(srcdir)/gdk-pixbuf-features.h.in $(srcdir)/gdk_pixbuf.rc.in \
+	ChangeLog
+ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
+am__aclocal_m4_deps = $(top_srcdir)/acinclude.m4 \
+	$(top_srcdir)/configure.in
+am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \
+	$(ACLOCAL_M4)
+mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
+CONFIG_HEADER = $(top_builddir)/config.h
+CONFIG_CLEAN_FILES = gdk_pixbuf.rc gdk-pixbuf-features.h
+am__installdirs = $(DESTDIR)$(libdir) $(DESTDIR)$(loaderdir) $(DESTDIR)$(bindir) $(DESTDIR)$(libgdk_pixbufincludedir)
+libLTLIBRARIES_INSTALL = $(INSTALL)
+loaderLTLIBRARIES_INSTALL = $(INSTALL)
+LTLIBRARIES = $(lib_LTLIBRARIES) $(loader_LTLIBRARIES) \
+	$(noinst_LTLIBRARIES)
+am__DEPENDENCIES_1 =
+@OS_WIN32_TRUE@am__DEPENDENCIES_2 = gdk_pixbuf-win32res.lo
+am_libgdk_pixbuf_2_0_la_OBJECTS = gdk-pixbuf.lo \
+	gdk-pixbuf-animation.lo gdk-pixbuf-data.lo gdk-pixbuf-io.lo \
+	gdk-pixbuf-loader.lo gdk-pixbuf-scale.lo gdk-pixbuf-util.lo \
+	gdk-pixdata.lo gdk-pixbuf-enum-types.lo
+libgdk_pixbuf_2_0_la_OBJECTS = $(am_libgdk_pixbuf_2_0_la_OBJECTS)
+am__DEPENDENCIES_3 = libgdk_pixbuf-$(GTK_API_VERSION).la \
+	$(am__DEPENDENCIES_1)
+libpixbufloader_ani_la_DEPENDENCIES = $(am__DEPENDENCIES_3)
+am_libpixbufloader_ani_la_OBJECTS = io-ani.lo io-ani-animation.lo
+libpixbufloader_ani_la_OBJECTS = $(am_libpixbufloader_ani_la_OBJECTS)
+libpixbufloader_bmp_la_DEPENDENCIES = $(am__DEPENDENCIES_3)
+am_libpixbufloader_bmp_la_OBJECTS = io-bmp.lo
+libpixbufloader_bmp_la_OBJECTS = $(am_libpixbufloader_bmp_la_OBJECTS)
+libpixbufloader_gif_la_DEPENDENCIES = $(am__DEPENDENCIES_3)
+am_libpixbufloader_gif_la_OBJECTS = io-gif.lo io-gif-animation.lo
+libpixbufloader_gif_la_OBJECTS = $(am_libpixbufloader_gif_la_OBJECTS)
+libpixbufloader_ico_la_DEPENDENCIES = $(am__DEPENDENCIES_3)
+am_libpixbufloader_ico_la_OBJECTS = io-ico.lo
+libpixbufloader_ico_la_OBJECTS = $(am_libpixbufloader_ico_la_OBJECTS)
+libpixbufloader_jpeg_la_DEPENDENCIES = $(am__DEPENDENCIES_1) \
+	$(am__DEPENDENCIES_3)
+am_libpixbufloader_jpeg_la_OBJECTS = io-jpeg.lo
+libpixbufloader_jpeg_la_OBJECTS =  \
+	$(am_libpixbufloader_jpeg_la_OBJECTS)
+libpixbufloader_pcx_la_DEPENDENCIES = $(am__DEPENDENCIES_3)
+am_libpixbufloader_pcx_la_OBJECTS = io-pcx.lo
+libpixbufloader_pcx_la_OBJECTS = $(am_libpixbufloader_pcx_la_OBJECTS)
+libpixbufloader_png_la_DEPENDENCIES = $(am__DEPENDENCIES_1) \
+	$(am__DEPENDENCIES_3)
+am_libpixbufloader_png_la_OBJECTS = io-png.lo
+libpixbufloader_png_la_OBJECTS = $(am_libpixbufloader_png_la_OBJECTS)
+libpixbufloader_pnm_la_DEPENDENCIES = $(am__DEPENDENCIES_3)
+am_libpixbufloader_pnm_la_OBJECTS = io-pnm.lo
+libpixbufloader_pnm_la_OBJECTS = $(am_libpixbufloader_pnm_la_OBJECTS)
+libpixbufloader_ras_la_DEPENDENCIES = $(am__DEPENDENCIES_3)
+am_libpixbufloader_ras_la_OBJECTS = io-ras.lo
+libpixbufloader_ras_la_OBJECTS = $(am_libpixbufloader_ras_la_OBJECTS)
+libpixbufloader_static_ani_la_LIBADD =
+am_libpixbufloader_static_ani_la_OBJECTS = io-ani.lo \
+	io-ani-animation.lo
+libpixbufloader_static_ani_la_OBJECTS =  \
+	$(am_libpixbufloader_static_ani_la_OBJECTS)
+libpixbufloader_static_bmp_la_LIBADD =
+am_libpixbufloader_static_bmp_la_OBJECTS = io-bmp.lo
+libpixbufloader_static_bmp_la_OBJECTS =  \
+	$(am_libpixbufloader_static_bmp_la_OBJECTS)
+libpixbufloader_static_gif_la_LIBADD =
+am_libpixbufloader_static_gif_la_OBJECTS = io-gif.lo \
+	io-gif-animation.lo
+libpixbufloader_static_gif_la_OBJECTS =  \
+	$(am_libpixbufloader_static_gif_la_OBJECTS)
+libpixbufloader_static_ico_la_LIBADD =
+am_libpixbufloader_static_ico_la_OBJECTS = io-ico.lo
+libpixbufloader_static_ico_la_OBJECTS =  \
+	$(am_libpixbufloader_static_ico_la_OBJECTS)
+libpixbufloader_static_jpeg_la_LIBADD =
+am_libpixbufloader_static_jpeg_la_OBJECTS = io-jpeg.lo
+libpixbufloader_static_jpeg_la_OBJECTS =  \
+	$(am_libpixbufloader_static_jpeg_la_OBJECTS)
+libpixbufloader_static_pcx_la_LIBADD =
+am_libpixbufloader_static_pcx_la_OBJECTS = io-pcx.lo
+libpixbufloader_static_pcx_la_OBJECTS =  \
+	$(am_libpixbufloader_static_pcx_la_OBJECTS)
+libpixbufloader_static_png_la_LIBADD =
+am_libpixbufloader_static_png_la_OBJECTS = io-png.lo
+libpixbufloader_static_png_la_OBJECTS =  \
+	$(am_libpixbufloader_static_png_la_OBJECTS)
+libpixbufloader_static_pnm_la_LIBADD =
+am_libpixbufloader_static_pnm_la_OBJECTS = io-pnm.lo
+libpixbufloader_static_pnm_la_OBJECTS =  \
+	$(am_libpixbufloader_static_pnm_la_OBJECTS)
+libpixbufloader_static_ras_la_LIBADD =
+am_libpixbufloader_static_ras_la_OBJECTS = io-ras.lo
+libpixbufloader_static_ras_la_OBJECTS =  \
+	$(am_libpixbufloader_static_ras_la_OBJECTS)
+libpixbufloader_static_tga_la_LIBADD =
+am_libpixbufloader_static_tga_la_OBJECTS = io-tga.lo
+libpixbufloader_static_tga_la_OBJECTS =  \
+	$(am_libpixbufloader_static_tga_la_OBJECTS)
+libpixbufloader_static_tiff_la_LIBADD =
+am_libpixbufloader_static_tiff_la_OBJECTS = io-tiff.lo
+libpixbufloader_static_tiff_la_OBJECTS =  \
+	$(am_libpixbufloader_static_tiff_la_OBJECTS)
+libpixbufloader_static_wbmp_la_LIBADD =
+am_libpixbufloader_static_wbmp_la_OBJECTS = io-wbmp.lo
+libpixbufloader_static_wbmp_la_OBJECTS =  \
+	$(am_libpixbufloader_static_wbmp_la_OBJECTS)
+libpixbufloader_static_xbm_la_LIBADD =
+am_libpixbufloader_static_xbm_la_OBJECTS = io-xbm.lo
+libpixbufloader_static_xbm_la_OBJECTS =  \
+	$(am_libpixbufloader_static_xbm_la_OBJECTS)
+libpixbufloader_static_xpm_la_LIBADD =
+am_libpixbufloader_static_xpm_la_OBJECTS = io-xpm.lo
+libpixbufloader_static_xpm_la_OBJECTS =  \
+	$(am_libpixbufloader_static_xpm_la_OBJECTS)
+libpixbufloader_tga_la_DEPENDENCIES = $(am__DEPENDENCIES_3)
+am_libpixbufloader_tga_la_OBJECTS = io-tga.lo
+libpixbufloader_tga_la_OBJECTS = $(am_libpixbufloader_tga_la_OBJECTS)
+libpixbufloader_tiff_la_DEPENDENCIES = $(am__DEPENDENCIES_1) \
+	$(am__DEPENDENCIES_3)
+am_libpixbufloader_tiff_la_OBJECTS = io-tiff.lo
+libpixbufloader_tiff_la_OBJECTS =  \
+	$(am_libpixbufloader_tiff_la_OBJECTS)
+libpixbufloader_wbmp_la_DEPENDENCIES = $(am__DEPENDENCIES_3)
+am_libpixbufloader_wbmp_la_OBJECTS = io-wbmp.lo
+libpixbufloader_wbmp_la_OBJECTS =  \
+	$(am_libpixbufloader_wbmp_la_OBJECTS)
+libpixbufloader_xbm_la_DEPENDENCIES = $(am__DEPENDENCIES_3)
+am_libpixbufloader_xbm_la_OBJECTS = io-xbm.lo
+libpixbufloader_xbm_la_OBJECTS = $(am_libpixbufloader_xbm_la_OBJECTS)
+libpixbufloader_xpm_la_DEPENDENCIES = $(am__DEPENDENCIES_3)
+am_libpixbufloader_xpm_la_OBJECTS = io-xpm.lo
+libpixbufloader_xpm_la_OBJECTS = $(am_libpixbufloader_xpm_la_OBJECTS)
+binPROGRAMS_INSTALL = $(INSTALL_PROGRAM)
+PROGRAMS = $(bin_PROGRAMS) $(noinst_PROGRAMS)
+am_gdk_pixbuf_csource_OBJECTS = gdk-pixbuf-csource.$(OBJEXT)
+gdk_pixbuf_csource_OBJECTS = $(am_gdk_pixbuf_csource_OBJECTS)
+am__DEPENDENCIES_4 = libgdk_pixbuf-$(GTK_API_VERSION).la
+gdk_pixbuf_csource_DEPENDENCIES = $(am__DEPENDENCIES_4)
+am_gdk_pixbuf_query_loaders_OBJECTS = queryloaders.$(OBJEXT)
+gdk_pixbuf_query_loaders_OBJECTS =  \
+	$(am_gdk_pixbuf_query_loaders_OBJECTS)
+test_gdk_pixbuf_SOURCES = test-gdk-pixbuf.c
+test_gdk_pixbuf_OBJECTS = test-gdk-pixbuf.$(OBJEXT)
+test_gdk_pixbuf_DEPENDENCIES = $(am__DEPENDENCIES_4)
+DEFAULT_INCLUDES = -I. -I$(srcdir) -I$(top_builddir)
+depcomp = $(SHELL) $(top_srcdir)/depcomp
+am__depfiles_maybe = depfiles
+@AMDEP_TRUE@DEP_FILES = ./$(DEPDIR)/gdk-pixbuf-animation.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/gdk-pixbuf-csource.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/gdk-pixbuf-data.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/gdk-pixbuf-enum-types.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/gdk-pixbuf-io.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/gdk-pixbuf-loader.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/gdk-pixbuf-scale.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/gdk-pixbuf-util.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/gdk-pixbuf.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/gdk-pixdata.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/io-ani-animation.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/io-ani.Plo ./$(DEPDIR)/io-bmp.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/io-gif-animation.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/io-gif.Plo ./$(DEPDIR)/io-ico.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/io-jpeg.Plo ./$(DEPDIR)/io-pcx.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/io-png.Plo ./$(DEPDIR)/io-pnm.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/io-ras.Plo ./$(DEPDIR)/io-tga.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/io-tiff.Plo ./$(DEPDIR)/io-wbmp.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/io-xbm.Plo ./$(DEPDIR)/io-xpm.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/queryloaders.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/test-gdk-pixbuf.Po
+COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
+	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
+LTCOMPILE = $(LIBTOOL) --mode=compile $(CC) $(DEFS) \
+	$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \
+	$(AM_CFLAGS) $(CFLAGS)
+CCLD = $(CC)
+LINK = $(LIBTOOL) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
+	$(AM_LDFLAGS) $(LDFLAGS) -o $@
+SOURCES = $(libgdk_pixbuf_2_0_la_SOURCES) \
+	$(libpixbufloader_ani_la_SOURCES) \
+	$(libpixbufloader_bmp_la_SOURCES) \
+	$(libpixbufloader_gif_la_SOURCES) \
+	$(libpixbufloader_ico_la_SOURCES) \
+	$(libpixbufloader_jpeg_la_SOURCES) \
+	$(libpixbufloader_pcx_la_SOURCES) \
+	$(libpixbufloader_png_la_SOURCES) \
+	$(libpixbufloader_pnm_la_SOURCES) \
+	$(libpixbufloader_ras_la_SOURCES) \
+	$(libpixbufloader_static_ani_la_SOURCES) \
+	$(libpixbufloader_static_bmp_la_SOURCES) \
+	$(libpixbufloader_static_gif_la_SOURCES) \
+	$(libpixbufloader_static_ico_la_SOURCES) \
+	$(libpixbufloader_static_jpeg_la_SOURCES) \
+	$(libpixbufloader_static_pcx_la_SOURCES) \
+	$(libpixbufloader_static_png_la_SOURCES) \
+	$(libpixbufloader_static_pnm_la_SOURCES) \
+	$(libpixbufloader_static_ras_la_SOURCES) \
+	$(libpixbufloader_static_tga_la_SOURCES) \
+	$(libpixbufloader_static_tiff_la_SOURCES) \
+	$(libpixbufloader_static_wbmp_la_SOURCES) \
+	$(libpixbufloader_static_xbm_la_SOURCES) \
+	$(libpixbufloader_static_xpm_la_SOURCES) \
+	$(libpixbufloader_tga_la_SOURCES) \
+	$(libpixbufloader_tiff_la_SOURCES) \
+	$(libpixbufloader_wbmp_la_SOURCES) \
+	$(libpixbufloader_xbm_la_SOURCES) \
+	$(libpixbufloader_xpm_la_SOURCES) \
+	$(gdk_pixbuf_csource_SOURCES) \
+	$(gdk_pixbuf_query_loaders_SOURCES) test-gdk-pixbuf.c
+DIST_SOURCES = $(libgdk_pixbuf_2_0_la_SOURCES) \
+	$(libpixbufloader_ani_la_SOURCES) \
+	$(libpixbufloader_bmp_la_SOURCES) \
+	$(libpixbufloader_gif_la_SOURCES) \
+	$(libpixbufloader_ico_la_SOURCES) \
+	$(libpixbufloader_jpeg_la_SOURCES) \
+	$(libpixbufloader_pcx_la_SOURCES) \
+	$(libpixbufloader_png_la_SOURCES) \
+	$(libpixbufloader_pnm_la_SOURCES) \
+	$(libpixbufloader_ras_la_SOURCES) \
+	$(libpixbufloader_static_ani_la_SOURCES) \
+	$(libpixbufloader_static_bmp_la_SOURCES) \
+	$(libpixbufloader_static_gif_la_SOURCES) \
+	$(libpixbufloader_static_ico_la_SOURCES) \
+	$(libpixbufloader_static_jpeg_la_SOURCES) \
+	$(libpixbufloader_static_pcx_la_SOURCES) \
+	$(libpixbufloader_static_png_la_SOURCES) \
+	$(libpixbufloader_static_pnm_la_SOURCES) \
+	$(libpixbufloader_static_ras_la_SOURCES) \
+	$(libpixbufloader_static_tga_la_SOURCES) \
+	$(libpixbufloader_static_tiff_la_SOURCES) \
+	$(libpixbufloader_static_wbmp_la_SOURCES) \
+	$(libpixbufloader_static_xbm_la_SOURCES) \
+	$(libpixbufloader_static_xpm_la_SOURCES) \
+	$(libpixbufloader_tga_la_SOURCES) \
+	$(libpixbufloader_tiff_la_SOURCES) \
+	$(libpixbufloader_wbmp_la_SOURCES) \
+	$(libpixbufloader_xbm_la_SOURCES) \
+	$(libpixbufloader_xpm_la_SOURCES) \
+	$(gdk_pixbuf_csource_SOURCES) \
+	$(gdk_pixbuf_query_loaders_SOURCES) test-gdk-pixbuf.c
+RECURSIVE_TARGETS = all-recursive check-recursive dvi-recursive \
+	html-recursive info-recursive install-data-recursive \
+	install-exec-recursive install-info-recursive \
+	install-recursive installcheck-recursive installdirs-recursive \
+	pdf-recursive ps-recursive uninstall-info-recursive \
+	uninstall-recursive
+DATA = $(noinst_DATA)
+libgdk_pixbufincludeHEADERS_INSTALL = $(INSTALL_HEADER)
+HEADERS = $(libgdk_pixbufinclude_HEADERS) $(noinst_HEADERS)
+ETAGS = etags
+CTAGS = ctags
+DIST_SUBDIRS = $(SUBDIRS)
+DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
 ACLOCAL = @ACLOCAL@
 AMDEP_FALSE = @AMDEP_FALSE@
 AMDEP_TRUE = @AMDEP_TRUE@
@@ -265,6 +524,7 @@
 libexecdir = @libexecdir@
 localstatedir = @localstatedir@
 mandir = @mandir@
+mkdir_p = @mkdir_p@
 ms_librarian = @ms_librarian@
 oldincludedir = @oldincludedir@
 prefix = @prefix@
@@ -273,24 +533,16 @@
 sharedstatedir = @sharedstatedir@
 sysconfdir = @sysconfdir@
 target_alias = @target_alias@
-
 SUBDIRS = pixops
-
 @PLATFORM_WIN32_TRUE@no_undefined = -no-undefined
-
 @OS_WIN32_TRUE@gdk_pixbuf_def = gdk_pixbuf.def
 @OS_WIN32_TRUE@gdk_pixbuf_symbols = -export-symbols $(gdk_pixbuf_def)
-
 @OS_WIN32_TRUE@gdk_pixbuf_win32res_lo = gdk_pixbuf-win32res.lo
-
 @MS_LIB_AVAILABLE_TRUE@noinst_DATA = gdk_pixbuf-$(GTK_API_VERSION).lib
-
 lib_LTLIBRARIES = \
 	libgdk_pixbuf-2.0.la
 
-
 loaderdir = $(libdir)/gtk-2.0/$(GTK_BINARY_VERSION)/loaders
-
 module_libs = libgdk_pixbuf-$(GTK_API_VERSION).la $(GDK_PIXBUF_DEP_LIBS)
 
 #
@@ -404,50 +656,35 @@
 libpixbufloader_pcx_la_SOURCES = io-pcx.c
 libpixbufloader_pcx_la_LDFLAGS = -avoid-version -module $(no_undefined)
 libpixbufloader_pcx_la_LIBADD = $(module_libs)
-
 @HAVE_PNG_TRUE@PNG_LIB = libpixbufloader-png.la
 @HAVE_PNG_TRUE@STATIC_PNG_LIB = libpixbufloader-static-png.la
-
 @HAVE_JPEG_TRUE@JPEG_LIB = libpixbufloader-jpeg.la
 @HAVE_JPEG_TRUE@STATIC_JPEG_LIB = libpixbufloader-static-jpeg.la
-
 GIF_LIB = libpixbufloader-gif.la
 STATIC_GIF_LIB = libpixbufloader-static-gif.la
-
 ICO_LIB = libpixbufloader-ico.la
 STATIC_ICO_LIB = libpixbufloader-static-ico.la
-
 ANI_LIB = libpixbufloader-ani.la
 STATIC_ANI_LIB = libpixbufloader-static-ani.la
-
 RAS_LIB = libpixbufloader-ras.la
 STATIC_RAS_LIB = libpixbufloader-static-ras.la
-
 @HAVE_TIFF_TRUE@TIFF_LIB = libpixbufloader-tiff.la
 @HAVE_TIFF_TRUE@STATIC_TIFF_LIB = libpixbufloader-static-tiff.la
-
 XPM_LIB = libpixbufloader-xpm.la
 STATIC_XPM_LIB = libpixbufloader-static-xpm.la
-
 PNM_LIB = libpixbufloader-pnm.la
 STATIC_PNM_LIB = libpixbufloader-static-pnm.la
-
 BMP_LIB = libpixbufloader-bmp.la
 STATIC_BMP_LIB = libpixbufloader-static-bmp.la
-
 WBMP_LIB = libpixbufloader-wbmp.la
 STATIC_WBMP_LIB = libpixbufloader-static-wbmp.la
-
 XBM_LIB = libpixbufloader-xbm.la
 STATIC_XBM_LIB = libpixbufloader-static-xbm.la
-
 TGA_LIB = libpixbufloader-tga.la
 STATIC_TGA_LIB = libpixbufloader-static-tga.la
-
 PCX_LIB = libpixbufloader-pcx.la
 STATIC_PCX_LIB = libpixbufloader-static-pcx.la
 @BUILD_DYNAMIC_MODULES_FALSE@loader_LTLIBRARIES = 
-
 @BUILD_DYNAMIC_MODULES_TRUE@loader_LTLIBRARIES = \
 @BUILD_DYNAMIC_MODULES_TRUE@	$(PNG_LIB)	\
 @BUILD_DYNAMIC_MODULES_TRUE@	$(JPEG_LIB)	\
@@ -464,12 +701,9 @@
 @BUILD_DYNAMIC_MODULES_TRUE@	$(TGA_LIB)	\
 @BUILD_DYNAMIC_MODULES_TRUE@	$(PCX_LIB)
 
-
 @BUILD_DYNAMIC_MODULES_TRUE@extra_sources = 
-
 @BUILD_DYNAMIC_MODULES_FALSE@builtin_objs = @INCLUDED_LOADER_OBJ@
 @BUILD_DYNAMIC_MODULES_TRUE@builtin_objs = 
-
 @BUILD_DYNAMIC_MODULES_FALSE@noinst_LTLIBRARIES = \
 @BUILD_DYNAMIC_MODULES_FALSE@	$(STATIC_PNG_LIB)	\
 @BUILD_DYNAMIC_MODULES_FALSE@	$(STATIC_JPEG_LIB)	\
@@ -486,7 +720,6 @@
 @BUILD_DYNAMIC_MODULES_FALSE@	$(STATIC_TGA_LIB)	\
 @BUILD_DYNAMIC_MODULES_FALSE@	$(STATIC_PCX_LIB)
 
-
 DEPS = libgdk_pixbuf-$(GTK_API_VERSION).la
 INCLUDES = \
 	-DG_LOG_DOMAIN=\"GdkPixbuf\"		\
@@ -494,6 +727,7 @@
 	-I$(top_srcdir)/gdk-pixbuf 		\
 	-I$(top_builddir)/gdk-pixbuf 		\
 	-DGTK_SYSCONFDIR=\"$(sysconfdir)\"	\
+	-DHOST=\"$(host_triplet)\"		\
 	-DGTK_VERSION=\"$(GTK_VERSION)\"	\
 	-DGTK_BINARY_VERSION=\"$(GTK_BINARY_VERSION)\"	\
 	-DG_DISABLE_DEPRECATED			\
@@ -504,20 +738,13 @@
 	$(GDK_PIXBUF_DEP_CFLAGS)		\
 	-DGDK_PIXBUF_ENABLE_BACKEND
 
-
 AM_CPPFLAGS = "-DPIXBUF_LIBDIR=\"$(loaderdir)\"" "-DBUILT_MODULES_DIR=\"$(srcdir)/.libs\""
 LDADDS = libgdk_pixbuf-$(GTK_API_VERSION).la
-
-noinst_PROGRAMS = test-gdk-pixbuf
 test_gdk_pixbuf_LDADD = $(LDADDS)
-
-bin_PROGRAMS = gdk-pixbuf-csource gdk-pixbuf-query-loaders
 gdk_pixbuf_csource_SOURCES = gdk-pixbuf-csource.c
 gdk_pixbuf_csource_LDADD = $(LDADDS)
-
 gdk_pixbuf_query_loaders_DEPENDENCIES = $(DEPS)
 gdk_pixbuf_query_loaders_LDADD = $(LDADDS)
-
 gdk_pixbuf_query_loaders_SOURCES = queryloaders.c
 
 #
@@ -536,24 +763,20 @@
 	gdk-pixdata.c		\
 	gdk-pixbuf-enum-types.c
 
-
 libgdk_pixbuf_2_0_la_LDFLAGS = \
 	-version-info $(LT_VERSION_INFO)	\
 	$(LIBTOOL_EXPORT_OPTIONS)		\
 	$(no_undefined)				\
 	$(gdk_pixbuf_symbols)
 
-
 libgdk_pixbuf_2_0_la_LIBADD = pixops/libpixops.la $(builtin_objs) $(gdk_pixbuf_win32res_lo) $(GDK_PIXBUF_DEP_LIBS)
 libgdk_pixbuf_2_0_la_DEPENDENCIES = pixops/libpixops.la $(builtin_objs) $(gdk_pixbuf_def) $(gdk_pixbuf_win32res_lo)
-
 gdk_pixbuf_headers = \
 	gdk-pixbuf.h			\
 	gdk-pixbuf-io.h			\
 	gdk-pixbuf-animation.h		\
 	gdk-pixbuf-loader.h
 
-
 libgdk_pixbufinclude_HEADERS = \
 	$(gdk_pixbuf_headers)		\
 	gdk-pixbuf-enum-types.h		\
@@ -561,22 +784,18 @@
 	gdk-pixbuf-features.h		\
 	gdk-pixdata.h
 
-
 noinst_HEADERS = \
 	gdk-pixbuf-private.h
 
-
 BUILT_SOURCES = gdk-pixbuf-enum-types.h gdk-pixbuf-enum-types.c \
   gdk-pixbuf-marshal.h gdk-pixbuf-marshal.c
 
-
 CLEANFILES = tmp-gdk-pixbuf-enum-types.h xgen-gmh xgen-gmc
 MAINTAINERCLEANFILES = \
   gdk-pixbuf-enum-types.h gdk-pixbuf-enum-types.c \
   gdk-pixbuf-marshal.h gdk-pixbuf-marshal.c \
   gdk-pixbuf.loaders\
 s-enum-types-h stamp-gdk-pixbuf-marshal.h
-
 EXTRA_DIST = \
         gdk-pixbuf-csource.1			\
 	makefile.msc				\
@@ -598,261 +817,49 @@
 	pixbufloader_xbm.def			\
 	pixbufloader_tga.def
 
-
-@CROSS_COMPILING_TRUE@RUN_QUERY_LOADER_TEST = false
 @CROSS_COMPILING_FALSE@RUN_QUERY_LOADER_TEST = test -z "$(DESTDIR)"
-subdir = gdk-pixbuf
-ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
-mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
-CONFIG_HEADER = $(top_builddir)/config.h
-CONFIG_CLEAN_FILES = gdk_pixbuf.rc gdk-pixbuf-features.h
-LTLIBRARIES = $(lib_LTLIBRARIES) $(loader_LTLIBRARIES) \
-	$(noinst_LTLIBRARIES)
-
-am_libgdk_pixbuf_2_0_la_OBJECTS = gdk-pixbuf.lo gdk-pixbuf-animation.lo \
-	gdk-pixbuf-data.lo gdk-pixbuf-io.lo gdk-pixbuf-loader.lo \
-	gdk-pixbuf-scale.lo gdk-pixbuf-util.lo gdk-pixdata.lo \
-	gdk-pixbuf-enum-types.lo
-libgdk_pixbuf_2_0_la_OBJECTS = $(am_libgdk_pixbuf_2_0_la_OBJECTS)
-libpixbufloader_ani_la_DEPENDENCIES = \
-	libgdk_pixbuf-$(GTK_API_VERSION).la
-am_libpixbufloader_ani_la_OBJECTS = io-ani.lo io-ani-animation.lo
-libpixbufloader_ani_la_OBJECTS = $(am_libpixbufloader_ani_la_OBJECTS)
-libpixbufloader_bmp_la_DEPENDENCIES = \
-	libgdk_pixbuf-$(GTK_API_VERSION).la
-am_libpixbufloader_bmp_la_OBJECTS = io-bmp.lo
-libpixbufloader_bmp_la_OBJECTS = $(am_libpixbufloader_bmp_la_OBJECTS)
-libpixbufloader_gif_la_DEPENDENCIES = \
-	libgdk_pixbuf-$(GTK_API_VERSION).la
-am_libpixbufloader_gif_la_OBJECTS = io-gif.lo io-gif-animation.lo
-libpixbufloader_gif_la_OBJECTS = $(am_libpixbufloader_gif_la_OBJECTS)
-libpixbufloader_ico_la_DEPENDENCIES = \
-	libgdk_pixbuf-$(GTK_API_VERSION).la
-am_libpixbufloader_ico_la_OBJECTS = io-ico.lo
-libpixbufloader_ico_la_OBJECTS = $(am_libpixbufloader_ico_la_OBJECTS)
-libpixbufloader_jpeg_la_DEPENDENCIES = \
-	libgdk_pixbuf-$(GTK_API_VERSION).la
-am_libpixbufloader_jpeg_la_OBJECTS = io-jpeg.lo
-libpixbufloader_jpeg_la_OBJECTS = $(am_libpixbufloader_jpeg_la_OBJECTS)
-libpixbufloader_pcx_la_DEPENDENCIES = \
-	libgdk_pixbuf-$(GTK_API_VERSION).la
-am_libpixbufloader_pcx_la_OBJECTS = io-pcx.lo
-libpixbufloader_pcx_la_OBJECTS = $(am_libpixbufloader_pcx_la_OBJECTS)
-libpixbufloader_png_la_DEPENDENCIES = \
-	libgdk_pixbuf-$(GTK_API_VERSION).la
-am_libpixbufloader_png_la_OBJECTS = io-png.lo
-libpixbufloader_png_la_OBJECTS = $(am_libpixbufloader_png_la_OBJECTS)
-libpixbufloader_pnm_la_DEPENDENCIES = \
-	libgdk_pixbuf-$(GTK_API_VERSION).la
-am_libpixbufloader_pnm_la_OBJECTS = io-pnm.lo
-libpixbufloader_pnm_la_OBJECTS = $(am_libpixbufloader_pnm_la_OBJECTS)
-libpixbufloader_ras_la_DEPENDENCIES = \
-	libgdk_pixbuf-$(GTK_API_VERSION).la
-am_libpixbufloader_ras_la_OBJECTS = io-ras.lo
-libpixbufloader_ras_la_OBJECTS = $(am_libpixbufloader_ras_la_OBJECTS)
-libpixbufloader_static_ani_la_LDFLAGS =
-libpixbufloader_static_ani_la_LIBADD =
-am_libpixbufloader_static_ani_la_OBJECTS = io-ani.lo io-ani-animation.lo
-libpixbufloader_static_ani_la_OBJECTS = \
-	$(am_libpixbufloader_static_ani_la_OBJECTS)
-libpixbufloader_static_bmp_la_LDFLAGS =
-libpixbufloader_static_bmp_la_LIBADD =
-am_libpixbufloader_static_bmp_la_OBJECTS = io-bmp.lo
-libpixbufloader_static_bmp_la_OBJECTS = \
-	$(am_libpixbufloader_static_bmp_la_OBJECTS)
-libpixbufloader_static_gif_la_LDFLAGS =
-libpixbufloader_static_gif_la_LIBADD =
-am_libpixbufloader_static_gif_la_OBJECTS = io-gif.lo io-gif-animation.lo
-libpixbufloader_static_gif_la_OBJECTS = \
-	$(am_libpixbufloader_static_gif_la_OBJECTS)
-libpixbufloader_static_ico_la_LDFLAGS =
-libpixbufloader_static_ico_la_LIBADD =
-am_libpixbufloader_static_ico_la_OBJECTS = io-ico.lo
-libpixbufloader_static_ico_la_OBJECTS = \
-	$(am_libpixbufloader_static_ico_la_OBJECTS)
-libpixbufloader_static_jpeg_la_LDFLAGS =
-libpixbufloader_static_jpeg_la_LIBADD =
-am_libpixbufloader_static_jpeg_la_OBJECTS = io-jpeg.lo
-libpixbufloader_static_jpeg_la_OBJECTS = \
-	$(am_libpixbufloader_static_jpeg_la_OBJECTS)
-libpixbufloader_static_pcx_la_LDFLAGS =
-libpixbufloader_static_pcx_la_LIBADD =
-am_libpixbufloader_static_pcx_la_OBJECTS = io-pcx.lo
-libpixbufloader_static_pcx_la_OBJECTS = \
-	$(am_libpixbufloader_static_pcx_la_OBJECTS)
-libpixbufloader_static_png_la_LDFLAGS =
-libpixbufloader_static_png_la_LIBADD =
-am_libpixbufloader_static_png_la_OBJECTS = io-png.lo
-libpixbufloader_static_png_la_OBJECTS = \
-	$(am_libpixbufloader_static_png_la_OBJECTS)
-libpixbufloader_static_pnm_la_LDFLAGS =
-libpixbufloader_static_pnm_la_LIBADD =
-am_libpixbufloader_static_pnm_la_OBJECTS = io-pnm.lo
-libpixbufloader_static_pnm_la_OBJECTS = \
-	$(am_libpixbufloader_static_pnm_la_OBJECTS)
-libpixbufloader_static_ras_la_LDFLAGS =
-libpixbufloader_static_ras_la_LIBADD =
-am_libpixbufloader_static_ras_la_OBJECTS = io-ras.lo
-libpixbufloader_static_ras_la_OBJECTS = \
-	$(am_libpixbufloader_static_ras_la_OBJECTS)
-libpixbufloader_static_tga_la_LDFLAGS =
-libpixbufloader_static_tga_la_LIBADD =
-am_libpixbufloader_static_tga_la_OBJECTS = io-tga.lo
-libpixbufloader_static_tga_la_OBJECTS = \
-	$(am_libpixbufloader_static_tga_la_OBJECTS)
-libpixbufloader_static_tiff_la_LDFLAGS =
-libpixbufloader_static_tiff_la_LIBADD =
-am_libpixbufloader_static_tiff_la_OBJECTS = io-tiff.lo
-libpixbufloader_static_tiff_la_OBJECTS = \
-	$(am_libpixbufloader_static_tiff_la_OBJECTS)
-libpixbufloader_static_wbmp_la_LDFLAGS =
-libpixbufloader_static_wbmp_la_LIBADD =
-am_libpixbufloader_static_wbmp_la_OBJECTS = io-wbmp.lo
-libpixbufloader_static_wbmp_la_OBJECTS = \
-	$(am_libpixbufloader_static_wbmp_la_OBJECTS)
-libpixbufloader_static_xbm_la_LDFLAGS =
-libpixbufloader_static_xbm_la_LIBADD =
-am_libpixbufloader_static_xbm_la_OBJECTS = io-xbm.lo
-libpixbufloader_static_xbm_la_OBJECTS = \
-	$(am_libpixbufloader_static_xbm_la_OBJECTS)
-libpixbufloader_static_xpm_la_LDFLAGS =
-libpixbufloader_static_xpm_la_LIBADD =
-am_libpixbufloader_static_xpm_la_OBJECTS = io-xpm.lo
-libpixbufloader_static_xpm_la_OBJECTS = \
-	$(am_libpixbufloader_static_xpm_la_OBJECTS)
-libpixbufloader_tga_la_DEPENDENCIES = \
-	libgdk_pixbuf-$(GTK_API_VERSION).la
-am_libpixbufloader_tga_la_OBJECTS = io-tga.lo
-libpixbufloader_tga_la_OBJECTS = $(am_libpixbufloader_tga_la_OBJECTS)
-libpixbufloader_tiff_la_DEPENDENCIES = \
-	libgdk_pixbuf-$(GTK_API_VERSION).la
-am_libpixbufloader_tiff_la_OBJECTS = io-tiff.lo
-libpixbufloader_tiff_la_OBJECTS = $(am_libpixbufloader_tiff_la_OBJECTS)
-libpixbufloader_wbmp_la_DEPENDENCIES = \
-	libgdk_pixbuf-$(GTK_API_VERSION).la
-am_libpixbufloader_wbmp_la_OBJECTS = io-wbmp.lo
-libpixbufloader_wbmp_la_OBJECTS = $(am_libpixbufloader_wbmp_la_OBJECTS)
-libpixbufloader_xbm_la_DEPENDENCIES = \
-	libgdk_pixbuf-$(GTK_API_VERSION).la
-am_libpixbufloader_xbm_la_OBJECTS = io-xbm.lo
-libpixbufloader_xbm_la_OBJECTS = $(am_libpixbufloader_xbm_la_OBJECTS)
-libpixbufloader_xpm_la_DEPENDENCIES = \
-	libgdk_pixbuf-$(GTK_API_VERSION).la
-am_libpixbufloader_xpm_la_OBJECTS = io-xpm.lo
-libpixbufloader_xpm_la_OBJECTS = $(am_libpixbufloader_xpm_la_OBJECTS)
-bin_PROGRAMS = gdk-pixbuf-csource$(EXEEXT) \
-	gdk-pixbuf-query-loaders$(EXEEXT)
-noinst_PROGRAMS = test-gdk-pixbuf$(EXEEXT)
-PROGRAMS = $(bin_PROGRAMS) $(noinst_PROGRAMS)
-
-am_gdk_pixbuf_csource_OBJECTS = gdk-pixbuf-csource.$(OBJEXT)
-gdk_pixbuf_csource_OBJECTS = $(am_gdk_pixbuf_csource_OBJECTS)
-gdk_pixbuf_csource_DEPENDENCIES = libgdk_pixbuf-$(GTK_API_VERSION).la
-gdk_pixbuf_csource_LDFLAGS =
-am_gdk_pixbuf_query_loaders_OBJECTS = queryloaders.$(OBJEXT)
-gdk_pixbuf_query_loaders_OBJECTS = \
-	$(am_gdk_pixbuf_query_loaders_OBJECTS)
-gdk_pixbuf_query_loaders_LDFLAGS =
-test_gdk_pixbuf_SOURCES = test-gdk-pixbuf.c
-test_gdk_pixbuf_OBJECTS = test-gdk-pixbuf.$(OBJEXT)
-test_gdk_pixbuf_DEPENDENCIES = libgdk_pixbuf-$(GTK_API_VERSION).la
-test_gdk_pixbuf_LDFLAGS =
-
-DEFAULT_INCLUDES =  -I. -I$(srcdir) -I$(top_builddir)
-depcomp = $(SHELL) $(top_srcdir)/depcomp
-am__depfiles_maybe = depfiles
-@AMDEP_TRUE@DEP_FILES = ./$(DEPDIR)/gdk-pixbuf-animation.Plo \
-@AMDEP_TRUE@	./$(DEPDIR)/gdk-pixbuf-csource.Po \
-@AMDEP_TRUE@	./$(DEPDIR)/gdk-pixbuf-data.Plo \
-@AMDEP_TRUE@	./$(DEPDIR)/gdk-pixbuf-enum-types.Plo \
-@AMDEP_TRUE@	./$(DEPDIR)/gdk-pixbuf-io.Plo \
-@AMDEP_TRUE@	./$(DEPDIR)/gdk-pixbuf-loader.Plo \
-@AMDEP_TRUE@	./$(DEPDIR)/gdk-pixbuf-scale.Plo \
-@AMDEP_TRUE@	./$(DEPDIR)/gdk-pixbuf-util.Plo \
-@AMDEP_TRUE@	./$(DEPDIR)/gdk-pixbuf.Plo \
-@AMDEP_TRUE@	./$(DEPDIR)/gdk-pixdata.Plo \
-@AMDEP_TRUE@	./$(DEPDIR)/io-ani-animation.Plo \
-@AMDEP_TRUE@	./$(DEPDIR)/io-ani.Plo ./$(DEPDIR)/io-bmp.Plo \
-@AMDEP_TRUE@	./$(DEPDIR)/io-gif-animation.Plo \
-@AMDEP_TRUE@	./$(DEPDIR)/io-gif.Plo ./$(DEPDIR)/io-ico.Plo \
-@AMDEP_TRUE@	./$(DEPDIR)/io-jpeg.Plo ./$(DEPDIR)/io-pcx.Plo \
-@AMDEP_TRUE@	./$(DEPDIR)/io-png.Plo ./$(DEPDIR)/io-pnm.Plo \
-@AMDEP_TRUE@	./$(DEPDIR)/io-ras.Plo ./$(DEPDIR)/io-tga.Plo \
-@AMDEP_TRUE@	./$(DEPDIR)/io-tiff.Plo ./$(DEPDIR)/io-wbmp.Plo \
-@AMDEP_TRUE@	./$(DEPDIR)/io-xbm.Plo ./$(DEPDIR)/io-xpm.Plo \
-@AMDEP_TRUE@	./$(DEPDIR)/queryloaders.Po \
-@AMDEP_TRUE@	./$(DEPDIR)/test-gdk-pixbuf.Po
-COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
-	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
-LTCOMPILE = $(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) \
-	$(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
-CCLD = $(CC)
-LINK = $(LIBTOOL) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
-	$(AM_LDFLAGS) $(LDFLAGS) -o $@
-DIST_SOURCES = $(libgdk_pixbuf_2_0_la_SOURCES) \
-	$(libpixbufloader_ani_la_SOURCES) \
-	$(libpixbufloader_bmp_la_SOURCES) \
-	$(libpixbufloader_gif_la_SOURCES) \
-	$(libpixbufloader_ico_la_SOURCES) \
-	$(libpixbufloader_jpeg_la_SOURCES) \
-	$(libpixbufloader_pcx_la_SOURCES) \
-	$(libpixbufloader_png_la_SOURCES) \
-	$(libpixbufloader_pnm_la_SOURCES) \
-	$(libpixbufloader_ras_la_SOURCES) \
-	$(libpixbufloader_static_ani_la_SOURCES) \
-	$(libpixbufloader_static_bmp_la_SOURCES) \
-	$(libpixbufloader_static_gif_la_SOURCES) \
-	$(libpixbufloader_static_ico_la_SOURCES) \
-	$(libpixbufloader_static_jpeg_la_SOURCES) \
-	$(libpixbufloader_static_pcx_la_SOURCES) \
-	$(libpixbufloader_static_png_la_SOURCES) \
-	$(libpixbufloader_static_pnm_la_SOURCES) \
-	$(libpixbufloader_static_ras_la_SOURCES) \
-	$(libpixbufloader_static_tga_la_SOURCES) \
-	$(libpixbufloader_static_tiff_la_SOURCES) \
-	$(libpixbufloader_static_wbmp_la_SOURCES) \
-	$(libpixbufloader_static_xbm_la_SOURCES) \
-	$(libpixbufloader_static_xpm_la_SOURCES) \
-	$(libpixbufloader_tga_la_SOURCES) \
-	$(libpixbufloader_tiff_la_SOURCES) \
-	$(libpixbufloader_wbmp_la_SOURCES) \
-	$(libpixbufloader_xbm_la_SOURCES) \
-	$(libpixbufloader_xpm_la_SOURCES) $(gdk_pixbuf_csource_SOURCES) \
-	$(gdk_pixbuf_query_loaders_SOURCES) test-gdk-pixbuf.c
-DATA = $(noinst_DATA)
-
-HEADERS = $(libgdk_pixbufinclude_HEADERS) $(noinst_HEADERS)
-
-
-RECURSIVE_TARGETS = info-recursive dvi-recursive pdf-recursive \
-	ps-recursive install-info-recursive uninstall-info-recursive \
-	all-recursive install-data-recursive install-exec-recursive \
-	installdirs-recursive install-recursive uninstall-recursive \
-	check-recursive installcheck-recursive
-DIST_COMMON = $(libgdk_pixbufinclude_HEADERS) $(noinst_HEADERS) \
-	$(srcdir)/Makefile.in ChangeLog Makefile.am \
-	gdk-pixbuf-features.h.in gdk_pixbuf.rc.in
-DIST_SUBDIRS = $(SUBDIRS)
-SOURCES = $(libgdk_pixbuf_2_0_la_SOURCES) $(libpixbufloader_ani_la_SOURCES) $(libpixbufloader_bmp_la_SOURCES) $(libpixbufloader_gif_la_SOURCES) $(libpixbufloader_ico_la_SOURCES) $(libpixbufloader_jpeg_la_SOURCES) $(libpixbufloader_pcx_la_SOURCES) $(libpixbufloader_png_la_SOURCES) $(libpixbufloader_pnm_la_SOURCES) $(libpixbufloader_ras_la_SOURCES) $(libpixbufloader_static_ani_la_SOURCES) $(libpixbufloader_static_bmp_la_SOURCES) $(libpixbufloader_static_gif_la_SOURCES) $(libpixbufloader_static_ico_la_SOURCES) $(libpixbufloader_static_jpeg_la_SOURCES) $(libpixbufloader_static_pcx_la_SOURCES) $(libpixbufloader_static_png_la_SOURCES) $(libpixbufloader_static_pnm_la_SOURCES) $(libpixbufloader_static_ras_la_SOURCES) $(libpixbufloader_static_tga_la_SOURCES) $(libpixbufloader_static_tiff_la_SOURCES) $(libpixbufloader_static_wbmp_la_SOURCES) $(libpixbufloader_static_xbm_la_SOURCES) $(libpixbufloader_static_xpm_la_SOURCES) $(libpixbufloader_tga_la_SOURCES) $(libpixbufloader_tiff_la_SOURCES) $(libpixbufloader_wbmp_la_SOURCES) $(libpixbufloader_xbm_la_SOURCES) $(libpixbufloader_xpm_la_SOURCES) $(gdk_pixbuf_csource_SOURCES) $(gdk_pixbuf_query_loaders_SOURCES) test-gdk-pixbuf.c
-
+@CROSS_COMPILING_TRUE@RUN_QUERY_LOADER_TEST = false
 all: $(BUILT_SOURCES)
 	$(MAKE) $(AM_MAKEFLAGS) all-recursive
 
 .SUFFIXES:
 .SUFFIXES: .c .lo .o .obj
-$(srcdir)/Makefile.in: @MAINTAINER_MODE_TRUE@ Makefile.am  $(top_srcdir)/configure.in $(ACLOCAL_M4)
+$(srcdir)/Makefile.in: @MAINTAINER_MODE_TRUE@ $(srcdir)/Makefile.am  $(am__configure_deps)
+	@for dep in $?; do \
+	  case '$(am__configure_deps)' in \
+	    *$$dep*) \
+	      cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh \
+		&& exit 0; \
+	      exit 1;; \
+	  esac; \
+	done; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu  gdk-pixbuf/Makefile'; \
 	cd $(top_srcdir) && \
 	  $(AUTOMAKE) --gnu  gdk-pixbuf/Makefile
-Makefile: @MAINTAINER_MODE_TRUE@ $(srcdir)/Makefile.in  $(top_builddir)/config.status
-	cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe)
-gdk_pixbuf.rc: $(top_builddir)/config.status gdk_pixbuf.rc.in
+.PRECIOUS: Makefile
+Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
+	@case '$?' in \
+	  *config.status*) \
+	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
+	  *) \
+	    echo ' cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe)'; \
+	    cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe);; \
+	esac;
+
+$(top_builddir)/config.status: $(top_srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)
+	cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh
+
+$(top_srcdir)/configure: @MAINTAINER_MODE_TRUE@ $(am__configure_deps)
+	cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh
+$(ACLOCAL_M4): @MAINTAINER_MODE_TRUE@ $(am__aclocal_m4_deps)
+	cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh
+gdk_pixbuf.rc: $(top_builddir)/config.status $(srcdir)/gdk_pixbuf.rc.in
 	cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@
-gdk-pixbuf-features.h: $(top_builddir)/config.status gdk-pixbuf-features.h.in
+gdk-pixbuf-features.h: $(top_builddir)/config.status $(srcdir)/gdk-pixbuf-features.h.in
 	cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@
-libLTLIBRARIES_INSTALL = $(INSTALL)
 install-libLTLIBRARIES: $(lib_LTLIBRARIES)
 	@$(NORMAL_INSTALL)
-	$(mkinstalldirs) $(DESTDIR)$(libdir)
+	$(mkdir_p) $(DESTDIR)$(libdir)
 	@list='$(lib_LTLIBRARIES)'; for p in $$list; do \
 	  if test -f $$p; then \
 	    f="`echo $$p | sed -e 's|^.*/||'`"; \
@@ -877,10 +884,9 @@
 	  echo "rm -f \"$${dir}/so_locations\""; \
 	  rm -f "$${dir}/so_locations"; \
 	done
-loaderLTLIBRARIES_INSTALL = $(INSTALL)
 install-loaderLTLIBRARIES: $(loader_LTLIBRARIES)
 	@$(NORMAL_INSTALL)
-	$(mkinstalldirs) $(DESTDIR)$(loaderdir)
+	$(mkdir_p) $(DESTDIR)$(loaderdir)
 	@list='$(loader_LTLIBRARIES)'; for p in $$list; do \
 	  if test -f $$p; then \
 	    f="`echo $$p | sed -e 's|^.*/||'`"; \
@@ -972,10 +978,9 @@
 	$(LINK) -rpath $(loaderdir) $(libpixbufloader_xbm_la_LDFLAGS) $(libpixbufloader_xbm_la_OBJECTS) $(libpixbufloader_xbm_la_LIBADD) $(LIBS)
 libpixbufloader-xpm.la: $(libpixbufloader_xpm_la_OBJECTS) $(libpixbufloader_xpm_la_DEPENDENCIES) 
 	$(LINK) -rpath $(loaderdir) $(libpixbufloader_xpm_la_LDFLAGS) $(libpixbufloader_xpm_la_OBJECTS) $(libpixbufloader_xpm_la_LIBADD) $(LIBS)
-binPROGRAMS_INSTALL = $(INSTALL_PROGRAM)
 install-binPROGRAMS: $(bin_PROGRAMS)
 	@$(NORMAL_INSTALL)
-	$(mkinstalldirs) $(DESTDIR)$(bindir)
+	$(mkdir_p) $(DESTDIR)$(bindir)
 	@list='$(bin_PROGRAMS)'; for p in $$list; do \
 	  p1=`echo $$p|sed 's/$(EXEEXT)$$//'`; \
 	  if test -f $$p \
@@ -1019,7 +1024,7 @@
 	$(LINK) $(test_gdk_pixbuf_LDFLAGS) $(test_gdk_pixbuf_OBJECTS) $(test_gdk_pixbuf_LDADD) $(LIBS)
 
 mostlyclean-compile:
-	-rm -f *.$(OBJEXT) core *.core
+	-rm -f *.$(OBJEXT)
 
 distclean-compile:
 	-rm -f *.tab.c
@@ -1054,37 +1059,28 @@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/test-gdk-pixbuf.Po@am__quote@
 
 .c.o:
-@am__fastdepCC_TRUE@	if $(COMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" \
-@am__fastdepCC_TRUE@	  -c -o $@ `test -f '$<' || echo '$(srcdir)/'`$<; \
-@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Po"; \
-@am__fastdepCC_TRUE@	else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; \
-@am__fastdepCC_TRUE@	fi
+@am__fastdepCC_TRUE@	if $(COMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" -c -o $@ $<; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Po"; else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$<' object='$@' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	depfile='$(DEPDIR)/$*.Po' tmpdepfile='$(DEPDIR)/$*.TPo' @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(COMPILE) -c `test -f '$<' || echo '$(srcdir)/'`$<
+@am__fastdepCC_FALSE@	$(COMPILE) -c $<
 
 .c.obj:
-@am__fastdepCC_TRUE@	if $(COMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" \
-@am__fastdepCC_TRUE@	  -c -o $@ `if test -f '$<'; then $(CYGPATH_W) '$<'; else $(CYGPATH_W) '$(srcdir)/$<'; fi`; \
-@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Po"; \
-@am__fastdepCC_TRUE@	else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; \
-@am__fastdepCC_TRUE@	fi
+@am__fastdepCC_TRUE@	if $(COMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" -c -o $@ `$(CYGPATH_W) '$<'`; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Po"; else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$<' object='$@' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	depfile='$(DEPDIR)/$*.Po' tmpdepfile='$(DEPDIR)/$*.TPo' @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(COMPILE) -c `if test -f '$<'; then $(CYGPATH_W) '$<'; else $(CYGPATH_W) '$(srcdir)/$<'; fi`
+@am__fastdepCC_FALSE@	$(COMPILE) -c `$(CYGPATH_W) '$<'`
 
 .c.lo:
-@am__fastdepCC_TRUE@	if $(LTCOMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" \
-@am__fastdepCC_TRUE@	  -c -o $@ `test -f '$<' || echo '$(srcdir)/'`$<; \
-@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Plo"; \
-@am__fastdepCC_TRUE@	else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; \
-@am__fastdepCC_TRUE@	fi
+@am__fastdepCC_TRUE@	if $(LTCOMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" -c -o $@ $<; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Plo"; else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$<' object='$@' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	depfile='$(DEPDIR)/$*.Plo' tmpdepfile='$(DEPDIR)/$*.TPlo' @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(LTCOMPILE) -c -o $@ `test -f '$<' || echo '$(srcdir)/'`$<
+@am__fastdepCC_FALSE@	$(LTCOMPILE) -c -o $@ $<
 
 mostlyclean-libtool:
 	-rm -f *.lo
@@ -1095,10 +1091,9 @@
 distclean-libtool:
 	-rm -f libtool
 uninstall-info-am:
-libgdk_pixbufincludeHEADERS_INSTALL = $(INSTALL_HEADER)
 install-libgdk_pixbufincludeHEADERS: $(libgdk_pixbufinclude_HEADERS)
 	@$(NORMAL_INSTALL)
-	$(mkinstalldirs) $(DESTDIR)$(libgdk_pixbufincludedir)
+	$(mkdir_p) $(DESTDIR)$(libgdk_pixbufincludedir)
 	@list='$(libgdk_pixbufinclude_HEADERS)'; for p in $$list; do \
 	  if test -f "$$p"; then d=; else d="$(srcdir)/"; fi; \
 	  f="`echo $$p | sed -e 's|^.*/||'`"; \
@@ -1173,14 +1168,6 @@
 	  test "$$subdir" = . || (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) ctags); \
 	done
 
-ETAGS = etags
-ETAGSFLAGS =
-
-CTAGS = ctags
-CTAGSFLAGS =
-
-tags: TAGS
-
 ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)
 	list='$(SOURCES) $(HEADERS) $(LISP) $(TAGS_FILES)'; \
 	unique=`for i in $$list; do \
@@ -1189,6 +1176,7 @@
 	  $(AWK) '    { files[$$0] = 1; } \
 	       END { for (i in files) print i; }'`; \
 	mkid -fID $$unique
+tags: TAGS
 
 TAGS: tags-recursive $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
 		$(TAGS_FILES) $(LISP)
@@ -1214,7 +1202,6 @@
 	test -z "$(ETAGS_ARGS)$$tags$$unique" \
 	  || $(ETAGS) $(ETAGSFLAGS) $(AM_ETAGSFLAGS) $(ETAGS_ARGS) \
 	     $$tags $$unique
-
 ctags: CTAGS
 CTAGS: ctags-recursive $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
 		$(TAGS_FILES) $(LISP)
@@ -1237,10 +1224,6 @@
 
 distclean-tags:
 	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH tags
-DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
-
-top_distdir = ..
-distdir = $(top_distdir)/$(PACKAGE)-$(VERSION)
 
 distdir: $(DISTFILES)
 	@srcdirstrip=`echo "$(srcdir)" | sed 's|.|.|g'`; \
@@ -1254,7 +1237,7 @@
 	  dir=`echo "$$file" | sed -e 's,/[^/]*$$,,'`; \
 	  if test "$$dir" != "$$file" && test "$$dir" != "."; then \
 	    dir="/$$dir"; \
-	    $(mkinstalldirs) "$(distdir)$$dir"; \
+	    $(mkdir_p) "$(distdir)$$dir"; \
 	  else \
 	    dir=''; \
 	  fi; \
@@ -1271,13 +1254,13 @@
 	done
 	list='$(SUBDIRS)'; for subdir in $$list; do \
 	  if test "$$subdir" = .; then :; else \
-	    test -d $(distdir)/$$subdir \
-	    || mkdir $(distdir)/$$subdir \
+	    test -d "$(distdir)/$$subdir" \
+	    || mkdir "$(distdir)/$$subdir" \
 	    || exit 1; \
 	    (cd $$subdir && \
 	      $(MAKE) $(AM_MAKEFLAGS) \
-	        top_distdir="$(top_distdir)" \
-	        distdir=../$(distdir)/$$subdir \
+	        top_distdir="../$(top_distdir)" \
+	        distdir="../$(distdir)/$$subdir" \
 	        distdir) \
 	      || exit 1; \
 	  fi; \
@@ -1285,13 +1268,13 @@
 check-am: all-am
 check: $(BUILT_SOURCES)
 	$(MAKE) $(AM_MAKEFLAGS) check-recursive
-all-am: Makefile $(LTLIBRARIES) $(PROGRAMS) $(DATA) $(HEADERS) all-local
+all-am: Makefile $(LTLIBRARIES) $(PROGRAMS) $(DATA) $(HEADERS) \
+		all-local
 install-binPROGRAMS: install-libLTLIBRARIES
 
 installdirs: installdirs-recursive
 installdirs-am:
-	$(mkinstalldirs) $(DESTDIR)$(libdir) $(DESTDIR)$(loaderdir) $(DESTDIR)$(bindir) $(DESTDIR)$(libgdk_pixbufincludedir)
-
+	$(mkdir_p) $(DESTDIR)$(libdir) $(DESTDIR)$(loaderdir) $(DESTDIR)$(bindir) $(DESTDIR)$(libgdk_pixbufincludedir)
 install: $(BUILT_SOURCES)
 	$(MAKE) $(AM_MAKEFLAGS) install-recursive
 install-exec: install-exec-recursive
@@ -1336,6 +1319,8 @@
 
 dvi-am:
 
+html: html-recursive
+
 info: info-recursive
 
 info-am:
@@ -1383,23 +1368,20 @@
 	clean-noinstLTLIBRARIES clean-noinstPROGRAMS clean-recursive \
 	ctags ctags-recursive distclean distclean-compile \
 	distclean-generic distclean-libtool distclean-local \
-	distclean-recursive distclean-tags distdir dvi dvi-am \
-	dvi-recursive info info-am info-recursive install install-am \
-	install-binPROGRAMS install-data install-data-am \
-	install-data-recursive install-exec install-exec-am \
-	install-exec-recursive install-info install-info-am \
-	install-info-recursive install-libLTLIBRARIES \
+	distclean-recursive distclean-tags distdir dvi dvi-am html \
+	html-am info info-am install install-am install-binPROGRAMS \
+	install-data install-data-am install-exec install-exec-am \
+	install-info install-info-am install-libLTLIBRARIES \
 	install-libgdk_pixbufincludeHEADERS install-loaderLTLIBRARIES \
-	install-man install-recursive install-strip installcheck \
-	installcheck-am installdirs installdirs-am \
-	installdirs-recursive maintainer-clean maintainer-clean-generic \
-	maintainer-clean-recursive mostlyclean mostlyclean-compile \
-	mostlyclean-generic mostlyclean-libtool mostlyclean-recursive \
-	pdf pdf-am pdf-recursive ps ps-am ps-recursive tags \
-	tags-recursive uninstall uninstall-am uninstall-binPROGRAMS \
-	uninstall-info-am uninstall-info-recursive \
+	install-man install-strip installcheck installcheck-am \
+	installdirs installdirs-am maintainer-clean \
+	maintainer-clean-generic maintainer-clean-recursive \
+	mostlyclean mostlyclean-compile mostlyclean-generic \
+	mostlyclean-libtool mostlyclean-recursive pdf pdf-am ps ps-am \
+	tags tags-recursive uninstall uninstall-am \
+	uninstall-binPROGRAMS uninstall-info-am \
 	uninstall-libLTLIBRARIES uninstall-libgdk_pixbufincludeHEADERS \
-	uninstall-loaderLTLIBRARIES uninstall-local uninstall-recursive
+	uninstall-loaderLTLIBRARIES uninstall-local
 
 
 @OS_WIN32_TRUE@gdk_pixbuf-win32res.lo : gdk_pixbuf.rc
--- gtk+-2.4.1/gtk/gtkrc.c.lib64	2004-04-29 10:12:20.000000000 -0400
+++ gtk+-2.4.1/gtk/gtkrc.c	2004-07-08 13:50:16.000000000 -0400
@@ -358,7 +358,15 @@
       if (im_module_file)
 	result = g_strdup (im_module_file);
       else
-	result = g_build_filename (GTK_SYSCONFDIR, "gtk-2.0", "gtk.immodules", NULL);
+	{
+	  result = g_build_filename (GTK_SYSCONFDIR, "gtk-2.0", GTK_HOST, "gtk.immodules", NULL);
+	  if (!g_file_test (result, G_FILE_TEST_EXISTS))
+	    {
+	      g_free (result);
+	      
+	      result = g_build_filename (GTK_SYSCONFDIR, "gtk-2.0", "gtk.immodules", NULL);
+	    }
+	}
     }
 
   return result;
