diff -up gtk+-2.18.3/gtk/gtkicontheme.c.zerosize gtk+-2.18.3/gtk/gtkicontheme.c
--- gtk+-2.18.3/gtk/gtkicontheme.c.zerosize	2009-10-21 19:13:17.759889007 -0400
+++ gtk+-2.18.3/gtk/gtkicontheme.c	2009-10-21 19:18:53.670897109 -0400
@@ -1402,6 +1402,7 @@ gtk_icon_theme_lookup_icon (GtkIconTheme
 
   g_return_val_if_fail (GTK_IS_ICON_THEME (icon_theme), NULL);
   g_return_val_if_fail (icon_name != NULL, NULL);
+  g_return_val_if_fail (size > 0, NULL);
   g_return_val_if_fail ((flags & GTK_ICON_LOOKUP_NO_SVG) == 0 ||
 			(flags & GTK_ICON_LOOKUP_FORCE_SVG) == 0, NULL);
 
@@ -1477,6 +1478,7 @@ gtk_icon_theme_choose_icon (GtkIconTheme
 {
   g_return_val_if_fail (GTK_IS_ICON_THEME (icon_theme), NULL);
   g_return_val_if_fail (icon_names != NULL, NULL);
+  g_return_val_if_fail (size > 0, NULL);
   g_return_val_if_fail ((flags & GTK_ICON_LOOKUP_NO_SVG) == 0 ||
 			(flags & GTK_ICON_LOOKUP_FORCE_SVG) == 0, NULL);
 
@@ -1531,10 +1533,11 @@ gtk_icon_theme_load_icon (GtkIconTheme  
   
   g_return_val_if_fail (GTK_IS_ICON_THEME (icon_theme), NULL);
   g_return_val_if_fail (icon_name != NULL, NULL);
+  g_return_val_if_fail (size > 0, NULL);
   g_return_val_if_fail ((flags & GTK_ICON_LOOKUP_NO_SVG) == 0 ||
 			(flags & GTK_ICON_LOOKUP_FORCE_SVG) == 0, NULL);
   g_return_val_if_fail (error == NULL || *error == NULL, NULL);
-  
+
   icon_info = gtk_icon_theme_lookup_icon (icon_theme, icon_name, size,
 				          flags | GTK_ICON_LOOKUP_USE_BUILTIN);
   if (!icon_info)
@@ -3308,6 +3311,7 @@ gtk_icon_theme_add_builtin_icon (const g
   gpointer key;
 
   g_return_if_fail (icon_name != NULL);
+  g_return_if_fail (size > 0, NULL);
   g_return_if_fail (GDK_IS_PIXBUF (pixbuf));
   
   if (!icon_theme_builtin_icons)
@@ -3454,6 +3458,7 @@ gtk_icon_theme_lookup_by_gicon (GtkIconT
 
   g_return_val_if_fail (GTK_IS_ICON_THEME (icon_theme), NULL);
   g_return_val_if_fail (G_IS_ICON (icon), NULL);
+  g_return_val_if_fail (size > 0, NULL);
 
   if (G_IS_LOADABLE_ICON (icon))
     {
